{
    "version": "https://jsonfeed.org/version/1",
    "title": "木语 • All posts by \"cypher\" tag",
    "description": "Spark!",
    "home_page_url": "https://koen666.github.io",
    "items": [
        {
            "id": "https://koen666.github.io/2025/10/17/cypher/",
            "url": "https://koen666.github.io/2025/10/17/cypher/",
            "title": "cypher与neo4j",
            "date_published": "2025-10-17T04:00:00.000Z",
            "content_html": "<h3 id=\"一-cypher是什么\"><a class=\"anchor\" href=\"#一-cypher是什么\">#</a> 一、Cypher是什么</h3>\n<p>Cypher是操作<strong>图数据库（Neo4j）</strong> 的语言。<br />\n图数据库里的数据不是表格（像MySQL的表），而是像“地图”一样的结构：</p>\n<ul>\n<li>有很多“点”（比如“人”“病”“药”），这些“点”叫<strong>节点（Node）</strong>。</li>\n<li>点和点之间有“线”连接（比如“人患病”“药治人”），这些“线”叫<strong>关系（Relationship）</strong>。</li>\n</ul>\n<p>Cypher的作用就是：<strong>描述“点和线”的样子，让数据库找到你要的数据</strong>。</p>\n<h3 id=\"二-最基础节点node怎么表示\"><a class=\"anchor\" href=\"#二-最基础节点node怎么表示\">#</a> 二、最基础：节点（Node）怎么表示？</h3>\n<p>节点是图里的“实体”（比如“张三”“感冒”），写法是：<br />\n<code>(变量名:标签 &#123;属性&#125;)</code></p>\n<h4 id=\"拆解每个部分\"><a class=\"anchor\" href=\"#拆解每个部分\">#</a> 拆解每个部分：</h4>\n<ul>\n<li><code>()</code>：必须用圆括号把节点包起来，相当于“这是一个节点”。</li>\n<li><code>变量名</code>：给节点起个临时小名（比如用<code>p</code>代表“人”，<code>d</code>代表“病”），方便后面引用。</li>\n<li><code>:标签</code>：节点的“类别”（比如<code>:Person</code>表示“人”，<code>:Disease</code>表示“疾病”），一个节点可以有多个标签（比如<code>:Person:Patient</code>表示“人且是患者”）。</li>\n<li><code>&#123;属性&#125;</code>：描述节点的特征，是键值对（比如<code>name: &quot;张三&quot;</code>，<code>age: 30</code>），用大括号包起来。</li>\n</ul>\n<h4 id=\"例子\"><a class=\"anchor\" href=\"#例子\">#</a> 例子：</h4>\n<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code class=\"language-cypher\"><span class=\"line\"><span style=\"color:#A0ADA0;--shiki-dark:#758575DD\">// 一个“人”节点：变量p，标签Person，属性name和age</span></span>\n<span class=\"line\"><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">(</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">p</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">:</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">Person</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\"> </span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#123;</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">name</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\">:</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> \"张三\"</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\">,</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\"> age</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\">:</span><span style=\"color:#2F798A;--shiki-dark:#4C9A91\"> 30</span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#125;</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#A0ADA0;--shiki-dark:#758575DD\">// 一个“疾病”节点：变量d，标签Disease，属性name</span></span>\n<span class=\"line\"><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">(</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">d</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">:</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">Disease</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\"> </span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#123;</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">name</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\">:</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> \"感冒\"</span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#125;</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">)</span></span></code></pre>\n<p>你可以理解为：<br />\n<code>(p:Person &#123;name: &quot;张三&quot;&#125;)</code> → “有个叫p的东西，它是‘人’，名字叫张三”。</p>\n<h3 id=\"三-关键关系relationship怎么表示\"><a class=\"anchor\" href=\"#三-关键关系relationship怎么表示\">#</a> 三、关键：关系（Relationship）怎么表示？</h3>\n<p>关系是节点之间的“连接”（比如“张三患感冒”），写法是：<br />\n<code>-[变量名:类型 &#123;属性&#125;]-&gt;</code></p>\n<h4 id=\"拆解每个部分-2\"><a class=\"anchor\" href=\"#拆解每个部分-2\">#</a> 拆解每个部分：</h4>\n<ul>\n<li><code>-[ ]-</code>：中括号代表“这是一个关系”，横线连接两个节点。</li>\n<li><code>-&gt;</code>：箭头表示方向（比如<code>A-&gt;B</code>表示“A到B的关系”，无方向可以写成<code>--</code>）。</li>\n<li><code>变量名</code>：给关系起个临时小名（比如<code>r</code>），方便引用。</li>\n<li><code>:类型</code>：关系的“类别”（比如<code>:患</code>表示“患病”，<code>:治疗</code>表示“可以治疗”），每个关系只能有一个类型。</li>\n<li><code>&#123;属性&#125;</code>：描述关系的特征（比如<code>:患</code>的关系可以有<code>时间: &quot;2023-10-01&quot;</code>）。</li>\n</ul>\n<h4 id=\"例子-2\"><a class=\"anchor\" href=\"#例子-2\">#</a> 例子：</h4>\n<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code class=\"language-cypher\"><span class=\"line\"><span style=\"color:#A0ADA0;--shiki-dark:#758575DD\">// “张三患感冒”的关系：p（张三）通过r（患）指向d（感冒）</span></span>\n<span class=\"line\"><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">(</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">p</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">:</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">Person</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\"> </span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#123;</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">name</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\">:</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> \"张三\"</span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#125;</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">)</span><span style=\"color:#998418;--shiki-dark:#B8A965\">-</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">[</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">r</span><span style=\"color:#AB5959;--shiki-dark:#CB7676\">:</span><span style=\"color:#59873A;--shiki-dark:#80A665\">患</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\"> </span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#123;</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">时间</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\">:</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> \"2023-10-01\"</span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#125;</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">]</span><span style=\"color:#998418;--shiki-dark:#B8A965\">-</span><span style=\"color:#998418;--shiki-dark:#B8A965\">></span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">(</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">d</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">:</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">Disease</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\"> </span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#123;</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">name</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\">:</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> \"感冒\"</span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#125;</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">)</span></span></code></pre>\n<p>可以理解为：<br />\n<code>(p)-[r:患]-&gt;(d)</code> → “p和d之间有个叫r的关系，类型是‘患’，意思是p患了d”。</p>\n<h3 id=\"四-核心操作查数据match-return\"><a class=\"anchor\" href=\"#四-核心操作查数据match-return\">#</a> 四、核心操作：查数据（MATCH + RETURN）</h3>\n<p>最常用的操作是“找数据”，用<code>MATCH</code>描述你要找的“点和线的模式”，用<code>RETURN</code>返回结果。</p>\n<h4 id=\"1-只查节点\"><a class=\"anchor\" href=\"#1-只查节点\">#</a> 1. 只查节点</h4>\n<p>比如：“找所有叫‘张三’的人”</p>\n<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code class=\"language-cypher\"><span class=\"line\"><span style=\"color:#A0ADA0;--shiki-dark:#758575DD\">// 步骤1：用MATCH描述模式（找标签是Person，name是张三的节点，变量叫p）</span></span>\n<span class=\"line\"><span style=\"color:#1E754F;--shiki-dark:#4D9375\">MATCH</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\"> </span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">(</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">p</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">:</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">Person</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\"> </span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#123;</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">name</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\">:</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> \"张三\"</span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#125;</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">)</span></span>\n<span class=\"line\"><span style=\"color:#A0ADA0;--shiki-dark:#758575DD\">// 步骤2：用RETURN返回结果（返回p的所有信息）</span></span>\n<span class=\"line\"><span style=\"color:#1E754F;--shiki-dark:#4D9375\">RETURN</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\"> p</span></span></code></pre>\n<p>再比如：“找所有年龄大于30的人，只返回他们的名字”</p>\n<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code class=\"language-cypher\"><span class=\"line\"><span style=\"color:#1E754F;--shiki-dark:#4D9375\">MATCH</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\"> </span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">(</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">p</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">:</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">Person</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">)</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">  </span><span style=\"color:#A0ADA0;--shiki-dark:#758575DD\">// 找所有标签是Person的节点</span></span>\n<span class=\"line\"><span style=\"color:#1E754F;--shiki-dark:#4D9375\">WHERE</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\"> p</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">age</span><span style=\"color:#AB5959;--shiki-dark:#CB7676\"> </span><span style=\"color:#AB5959;--shiki-dark:#CB7676\">></span><span style=\"color:#2F798A;--shiki-dark:#4C9A91\"> 30</span><span style=\"color:#A0ADA0;--shiki-dark:#758575DD\">  // 加条件：年龄大于30（WHERE是过滤条件）</span></span>\n<span class=\"line\"><span style=\"color:#1E754F;--shiki-dark:#4D9375\">RETURN</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\"> p</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">name</span><span style=\"color:#A0ADA0;--shiki-dark:#758575DD\">     // 只返回名字</span></span></code></pre>\n<h4 id=\"2-查关系节点关系\"><a class=\"anchor\" href=\"#2-查关系节点关系\">#</a> 2. 查关系（节点+关系）</h4>\n<p>比如：“找‘感冒’这种病有哪些伴随的症状”</p>\n<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code class=\"language-cypher\"><span class=\"line\"><span style=\"color:#A0ADA0;--shiki-dark:#758575DD\">// 模式：疾病d（名字是感冒）通过关系r（类型是伴随症状）指向症状s</span></span>\n<span class=\"line\"><span style=\"color:#1E754F;--shiki-dark:#4D9375\">MATCH</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\"> </span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">(</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">d</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">:</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">Disease</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\"> </span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#123;</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">name</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\">:</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> \"感冒\"</span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#125;</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">)</span><span style=\"color:#998418;--shiki-dark:#B8A965\">-</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">[</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">r</span><span style=\"color:#AB5959;--shiki-dark:#CB7676\">:</span><span style=\"color:#59873A;--shiki-dark:#80A665\">伴随症状</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">]</span><span style=\"color:#998418;--shiki-dark:#B8A965\">-</span><span style=\"color:#998418;--shiki-dark:#B8A965\">></span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">(</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">s</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">:</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">Symptom</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">)</span></span>\n<span class=\"line\"><span style=\"color:#A0ADA0;--shiki-dark:#758575DD\">// 返回疾病名、关系的程度（比如“常见”）、症状名</span></span>\n<span class=\"line\"><span style=\"color:#1E754F;--shiki-dark:#4D9375\">RETURN</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\"> d</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">name</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">, </span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">r</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">degree</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">, </span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">s</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">name</span></span></code></pre>\n<p>如果数据库里有“感冒伴随发烧、咳嗽”，结果会是：</p>\n<table>\n<thead>\n<tr>\n<th><a href=\"http://d.name\">d.name</a></th>\n<th>r.degree</th>\n<th><a href=\"http://s.name\">s.name</a></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>感冒</td>\n<td>常见</td>\n<td>发烧</td>\n</tr>\n<tr>\n<td>感冒</td>\n<td>较常见</td>\n<td>咳嗽</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"3-查路径多个关系连起来\"><a class=\"anchor\" href=\"#3-查路径多个关系连起来\">#</a> 3. 查路径（多个关系连起来）</h4>\n<p>比如：“找张三患的病有哪些症状”（路径：人→患→病→伴随→症状）</p>\n<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code class=\"language-cypher\"><span class=\"line\"><span style=\"color:#A0ADA0;--shiki-dark:#758575DD\">// 模式：p（张三）-患→d（病）-伴随→s（症状）</span></span>\n<span class=\"line\"><span style=\"color:#1E754F;--shiki-dark:#4D9375\">MATCH</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\"> </span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">(</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">p</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">:</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">Person</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\"> </span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#123;</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">name</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\">:</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> \"张三\"</span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#125;</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">)</span><span style=\"color:#998418;--shiki-dark:#B8A965\">-</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">[</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">r1</span><span style=\"color:#AB5959;--shiki-dark:#CB7676\">:</span><span style=\"color:#59873A;--shiki-dark:#80A665\">患</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">]</span><span style=\"color:#998418;--shiki-dark:#B8A965\">-</span><span style=\"color:#998418;--shiki-dark:#B8A965\">></span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">(</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">d</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">:</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">Disease</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">)</span><span style=\"color:#998418;--shiki-dark:#B8A965\">-</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">[</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">r2</span><span style=\"color:#AB5959;--shiki-dark:#CB7676\">:</span><span style=\"color:#59873A;--shiki-dark:#80A665\">伴随</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">]</span><span style=\"color:#998418;--shiki-dark:#B8A965\">-</span><span style=\"color:#998418;--shiki-dark:#B8A965\">></span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">(</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">s</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">:</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">Symptom</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">)</span></span>\n<span class=\"line\"><span style=\"color:#1E754F;--shiki-dark:#4D9375\">RETURN</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\"> p</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">name</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">, </span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">d</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">name</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">, </span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">s</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">name</span><span style=\"color:#A0ADA0;--shiki-dark:#758575DD\">  // 返回张三、病名、症状名</span></span></code></pre>\n<h3 id=\"五-其他常用操作增删改\"><a class=\"anchor\" href=\"#五-其他常用操作增删改\">#</a> 五、其他常用操作：增删改</h3>\n<h4 id=\"1-创建create\"><a class=\"anchor\" href=\"#1-创建create\">#</a> 1. 创建（CREATE）</h4>\n<p>比如：“新增一个叫‘李四’的人，年龄25”</p>\n<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code class=\"language-cypher\"><span class=\"line\"><span style=\"color:#1E754F;--shiki-dark:#4D9375\">CREATE</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\"> </span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">(</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">p</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">:</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">Person</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\"> </span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#123;</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">name</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\">:</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> \"李四\"</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\">,</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\"> age</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\">:</span><span style=\"color:#2F798A;--shiki-dark:#4C9A91\"> 25</span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#125;</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">)</span></span></code></pre>\n<p>比如：“给‘李四’和‘感冒’加一个‘患’的关系，时间是今天”</p>\n<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code class=\"language-cypher\"><span class=\"line\"><span style=\"color:#A0ADA0;--shiki-dark:#758575DD\">// 步骤1：先找到李四和感冒这两个节点</span></span>\n<span class=\"line\"><span style=\"color:#1E754F;--shiki-dark:#4D9375\">MATCH</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\"> </span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">(</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">p</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">:</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">Person</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\"> </span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#123;</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">name</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\">:</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> \"李四\"</span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#125;</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">)</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">, </span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">(</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">d</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">:</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">Disease</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\"> </span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#123;</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">name</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\">:</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> \"感冒\"</span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#125;</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">)</span></span>\n<span class=\"line\"><span style=\"color:#A0ADA0;--shiki-dark:#758575DD\">// 步骤2：创建他们之间的关系</span></span>\n<span class=\"line\"><span style=\"color:#1E754F;--shiki-dark:#4D9375\">CREATE</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\"> </span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">(</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">p</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">)</span><span style=\"color:#998418;--shiki-dark:#B8A965\">-</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">[</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">r</span><span style=\"color:#AB5959;--shiki-dark:#CB7676\">:</span><span style=\"color:#59873A;--shiki-dark:#80A665\">患</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\"> </span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#123;</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">时间</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\">:</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> \"2023-10-02\"</span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#125;</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">]</span><span style=\"color:#998418;--shiki-dark:#B8A965\">-</span><span style=\"color:#998418;--shiki-dark:#B8A965\">></span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">(</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">d</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">)</span></span></code></pre>\n<h4 id=\"2-修改set\"><a class=\"anchor\" href=\"#2-修改set\">#</a> 2. 修改（SET）</h4>\n<p>比如：“把张三的年龄改成31，再加上性别‘男’”</p>\n<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code class=\"language-cypher\"><span class=\"line\"><span style=\"color:#A0ADA0;--shiki-dark:#758575DD\">// 先找到张三</span></span>\n<span class=\"line\"><span style=\"color:#1E754F;--shiki-dark:#4D9375\">MATCH</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\"> </span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">(</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">p</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">:</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">Person</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\"> </span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#123;</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">name</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\">:</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> \"张三\"</span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#125;</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">)</span></span>\n<span class=\"line\"><span style=\"color:#A0ADA0;--shiki-dark:#758575DD\">// 用SET修改/新增属性</span></span>\n<span class=\"line\"><span style=\"color:#1E754F;--shiki-dark:#4D9375\">SET</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\"> p</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">age</span><span style=\"color:#AB5959;--shiki-dark:#CB7676\"> =</span><span style=\"color:#2F798A;--shiki-dark:#4C9A91\"> 31</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">, </span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">p</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">gender</span><span style=\"color:#AB5959;--shiki-dark:#CB7676\"> =</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> \"男\"</span></span></code></pre>\n<h4 id=\"3-删除delete\"><a class=\"anchor\" href=\"#3-删除delete\">#</a> 3. 删除（DELETE）</h4>\n<p>删除节点前，必须先删除它的所有关系（不然“线”断了会报错）。<br />\n比如：“删除‘发烧’这个症状节点”</p>\n<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code class=\"language-cypher\"><span class=\"line\"><span style=\"color:#A0ADA0;--shiki-dark:#758575DD\">// DETACH DELETE会自动删除该节点的所有关系，再删节点</span></span>\n<span class=\"line\"><span style=\"color:#1E754F;--shiki-dark:#4D9375\">MATCH</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\"> </span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">(</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">s</span><span style=\"color:#393A34;--shiki-dark:#DBD7CAEE\">:</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">Symptom</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\"> </span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#123;</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\">name</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\">:</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> \"发烧\"</span><span style=\"color:#1e754f;--shiki-dark:#4d9375\">&#125;</span><span style=\"color:#2993a3;--shiki-dark:#5eaab5\">)</span></span>\n<span class=\"line\"><span style=\"color:#B07D48;--shiki-dark:#BD976A\">DETACH</span><span style=\"color:#1E754F;--shiki-dark:#4D9375\"> DELETE</span><span style=\"color:#B07D48;--shiki-dark:#BD976A\"> s</span></span></code></pre>\n",
            "tags": [
                "cypher",
                "neo4j",
                "database"
            ]
        }
    ]
}