{
    "version": "https://jsonfeed.org/version/1",
    "title": "木语 • All posts by \"ip\" tag",
    "description": "Spark!",
    "home_page_url": "https://koen666.github.io",
    "items": [
        {
            "id": "https://koen666.github.io/2025/09/03/network/",
            "url": "https://koen666.github.io/2025/09/03/network/",
            "title": "网络核心概念精讲",
            "date_published": "2025-09-02T16:00:00.000Z",
            "content_html": "<h1 id=\"网络核心概念精讲从-ip-地址到-mac-地址\"><a class=\"anchor\" href=\"#网络核心概念精讲从-ip-地址到-mac-地址\">#</a> 网络核心概念精讲：从 IP 地址到 MAC 地址</h1>\n<blockquote>\n<p>本文系统讲解计算机网络的核心概念，包括 IP 地址、子网、路由器、DNS 等，力求用通俗易懂的语言和比喻解释复杂的技术原理。</p>\n</blockquote>\n<h2 id=\"1-网络层级模型互联网的交通规则\"><a class=\"anchor\" href=\"#1-网络层级模型互联网的交通规则\">#</a> 1. 网络层级模型：互联网的交通规则</h2>\n<p>理解网络，首先要理解它的分层模型。常见的 OSI 七层模型与 TCP/IP 五层模型，会把复杂的网络通信过程分解为多个层次，每一层只专注于自己的任务。</p>\n<p>一个经典的比喻：发送快递。</p>\n<ul>\n<li><strong>应用层</strong>：你要寄的东西本身（比如一封信），决定了通信内容（HTTP、FTP 等）。</li>\n<li><strong>传输层</strong>：将东西打包并保证可靠送达（TCP、UDP）。</li>\n<li><strong>网络层</strong>：填写收件人/发件人地址（IP 地址），负责跨网络选路（IP、路由器）。</li>\n<li><strong>数据链路层</strong>：负责在同一条链路上把包裹送到下一站（MAC 地址、交换机）。</li>\n<li><strong>物理层</strong>：最终的比特传输介质（网线、光纤、无线电波）。</li>\n</ul>\n<h2 id=\"2-ip-地址互联网上的门牌号\"><a class=\"anchor\" href=\"#2-ip-地址互联网上的门牌号\">#</a> 2. IP 地址：互联网上的“门牌号”</h2>\n<h3 id=\"21-什么是-ip-地址\"><a class=\"anchor\" href=\"#21-什么是-ip-地址\">#</a> 2.1 什么是 IP 地址</h3>\n<p>IP 地址是为互联网上的每一个设备分配的一种逻辑地址，用于在网络中定位和寻址。它就像你家的门牌号，知道了这个地址，数据包才能找到你。</p>\n<h3 id=\"22-公有-ip-vs-私有-ip\"><a class=\"anchor\" href=\"#22-公有-ip-vs-私有-ip\">#</a> 2.2 公有 IP vs. 私有 IP</h3>\n<ul>\n<li><strong>公有 IP (Public IP)</strong>：全球唯一，由运营商分配，是你在互联网上的“家庭住址”，可被公网设备直接访问。\n<ul>\n<li><strong>如何查看</strong>：浏览器访问 <code>ip.cn</code> 或 <code>whatismyip.com</code>；也可以在 PowerShell 中运行 <code>(Invoke-RestMethod -Uri \"https://api.ipify.org\").Trim()</code>。</li>\n</ul>\n</li>\n<li><strong>私有 IP (Private IP)</strong>：在局域网（LAN）内使用，非全球唯一。家里的电脑、手机通常获得私有 IP，通过路由器共享一个公有 IP 上网。\n<ul>\n<li><strong>常见范围</strong>：<code>10.0.0.0/8</code>、<code>172.16.0.0/12</code>、<code>192.168.0.0/16</code>。</li>\n<li><strong>如何查看</strong>：\n<ul>\n<li><strong>Windows</strong>：<code>Win + R</code> -&gt; 输入 <code>cmd</code> -&gt; 输入 <code>ipconfig</code>，查看“IPv4 地址”。</li>\n<li><strong>macOS/Linux</strong>：终端输入 <code>ifconfig</code> 或 <code>ip addr</code>。</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"23-ipv4-vs-ipv6\"><a class=\"anchor\" href=\"#23-ipv4-vs-ipv6\">#</a> 2.3 IPv4 vs. IPv6</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">特点</th>\n<th style=\"text-align:left\">IPv4</th>\n<th style=\"text-align:left\">IPv6</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\"><strong>地址长度</strong></td>\n<td style=\"text-align:left\">32 位</td>\n<td style=\"text-align:left\">128 位</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><strong>地址总量</strong></td>\n<td style=\"text-align:left\">约 42.9 亿</td>\n<td style=\"text-align:left\">近乎无限（<code>2^128</code> 个）</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><strong>表示方法</strong></td>\n<td style=\"text-align:left\">十进制（如 <code>192.168.1.1</code>）</td>\n<td style=\"text-align:left\">十六进制（如 <code>2001:db8::1</code>）</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><strong>本质</strong></td>\n<td style=\"text-align:left\">都是二进制数，只是对人类的不同表示方式</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"3-子网掩码与网络划分划定社区的范围\"><a class=\"anchor\" href=\"#3-子网掩码与网络划分划定社区的范围\">#</a> 3. 子网掩码与网络划分：划定“社区”的范围</h2>\n<p>光有门牌号不够，还需要知道这个门牌号属于哪个小区（网络）。子网掩码就是用来界定“小区”范围的工具。</p>\n<ul>\n<li><strong>功能</strong>：将 IP 地址划分为网络号（小区名）和主机号（门牌号）。</li>\n<li><strong>计算</strong>：将 IP 地址与子网掩码做按位与运算，即可得到网络号。</li>\n<li><strong>例子</strong>：IP <code>192.168.1.100</code>，掩码 <code>255.255.255.0</code>。\n<ul>\n<li>按位与运算后得到网络号：<code>192.168.1.0</code>。</li>\n<li>这意味着 <code>192.168.1.1</code> 到 <code>192.168.1.254</code> 的设备都在同一个“小区”内，可以直接通信。</li>\n</ul>\n</li>\n<li><strong>CIDR 表示</strong>：<code>192.168.1.0/24</code>，其中 <code>/24</code> 表示子网掩码前 24 位是 1（即 <code>255.255.255.0</code>）。</li>\n</ul>\n<p>补充：像 <code>255.255.128.0</code> 这样的掩码提供更灵活的划分方式，可以将一个大的地址段（如 <code>172.16.0.0/16</code>）划分为更小的子网，以满足不同规模的网络需求。</p>\n<h2 id=\"4-网关与路由器网络的出入口和交通枢纽\"><a class=\"anchor\" href=\"#4-网关与路由器网络的出入口和交通枢纽\">#</a> 4. 网关与路由器：网络的“出入口”和“交通枢纽”</h2>\n<h3 id=\"41-网关-gateway\"><a class=\"anchor\" href=\"#41-网关-gateway\">#</a> 4.1 网关 (Gateway)</h3>\n<ul>\n<li><strong>定义</strong>：连接两个不同网络的出入口，是一个逻辑概念。</li>\n<li><strong>地址</strong>：网关必须有一个 IP 地址，通常就是路由器 LAN 口的 IP 地址（如 <code>192.168.1.1</code>、<code>10.138.255.254</code>）。</li>\n<li><strong>功能</strong>：当设备要访问互联网（另一个网络）时，会把数据包发给网关，由网关负责转发。</li>\n</ul>\n<h3 id=\"42-路由器router\"><a class=\"anchor\" href=\"#42-路由器router\">#</a> 4.2 路由器（Router）</h3>\n<ul>\n<li><strong>定义</strong>：实现网关功能的物理设备，是网络的“交通枢纽”，根据路由表决定数据包的下一跳。</li>\n<li><strong>核心功能</strong>：\n<ol>\n<li><strong>路由</strong>：在不同网络间转发数据包。</li>\n<li><strong>NAT（网络地址转换）</strong>：将局域网内多个设备的私有 IP 转换为一个公有 IP 上网，是共享上网的基础。</li>\n<li><strong>DHCP 服务</strong>：自动为局域网内的设备分配 IP 地址、子网掩码、网关和 DNS 地址。</li>\n<li><strong>交换机 &amp; 无线 AP</strong>：提供有线端口与 Wi-Fi 接入。</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"43-硬路由-vs-软路由\"><a class=\"anchor\" href=\"#43-硬路由-vs-软路由\">#</a> 4.3 硬路由 vs. 软路由</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">特点</th>\n<th style=\"text-align:left\">硬路由</th>\n<th style=\"text-align:left\">软路由</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\"><strong>本质</strong></td>\n<td style=\"text-align:left\">专用硬件设备（如家用路由器）</td>\n<td style=\"text-align:left\">在通用硬件（电脑/工控机）上运行的路由软件</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><strong>优点</strong></td>\n<td style=\"text-align:left\">稳定、省电、即插即用</td>\n<td style=\"text-align:left\">性能强大、功能灵活（可通过插件扩展功能）</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><strong>缺点</strong></td>\n<td style=\"text-align:left\">功能固定、性能有限</td>\n<td style=\"text-align:left\">需自行配置、功耗较高、有学习成本</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><strong>例子</strong></td>\n<td style=\"text-align:left\">华硕、TP-Link、网件路由器</td>\n<td style=\"text-align:left\"><strong>OpenWrt</strong>, <strong>爱快(iKuai)</strong>, <strong>ROS</strong> 系统</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"5-dhcp-vs-静态-ip自动分配与手动指定\"><a class=\"anchor\" href=\"#5-dhcp-vs-静态-ip自动分配与手动指定\">#</a> 5. DHCP vs. 静态 IP：自动分配与手动指定</h2>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">特点</th>\n<th style=\"text-align:left\">DHCP（动态分配）</th>\n<th style=\"text-align:left\">静态 IP（手动配置）</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\"><strong>配置方式</strong></td>\n<td style=\"text-align:left\"><strong>自动</strong></td>\n<td style=\"text-align:left\"><strong>手动</strong></td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><strong>地址变化</strong></td>\n<td style=\"text-align:left\">可能变化（租期到期）</td>\n<td style=\"text-align:left\"><strong>固定不变</strong></td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><strong>适用场景</strong></td>\n<td style=\"text-align:left\">绝大多数设备（手机、电脑）</td>\n<td style=\"text-align:left\">需要固定地址的设备（服务器、打印机、NAS 等）</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"><strong>比喻</strong></td>\n<td style=\"text-align:left\">租房（地址可能变）</td>\n<td style=\"text-align:left\">自己买的房子（地址长期不变）</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"6-dns互联网的电话簿\"><a class=\"anchor\" href=\"#6-dns互联网的电话簿\">#</a> 6. DNS：互联网的“电话簿”</h2>\n<ul>\n<li><strong>全称</strong>：域名系统（Domain Name System, DNS）。</li>\n<li><strong>作用</strong>：将人类容易记住的域名（如 <code>www.google.com</code>）翻译成计算机用于通信的 IP 地址（如 <code>142.251.42.206</code>）。</li>\n<li><strong>提供方</strong>：通常由网络运营商（ISP）自动分配，也可以手动设置公共 DNS（如 <code>8.8.8.8</code>、<code>1.1.1.1</code>）。</li>\n<li><strong>查看方式</strong>：在 <code>ipconfig /all</code> 输出中查看“DNS 服务器”。</li>\n</ul>\n<h2 id=\"7-mac-地址网卡的身份证\"><a class=\"anchor\" href=\"#7-mac-地址网卡的身份证\">#</a> 7. MAC 地址：网卡的“身份证”</h2>\n<ul>\n<li><strong>定义</strong>：媒体访问控制地址（Media Access Control Address），固化在网卡硬件中，通常可认为在局域网内唯一的物理地址。</li>\n<li><strong>格式</strong>：48 位，十六进制表示（如 <code>00:1A:2B:3C:4D:5E</code>）。</li>\n<li><strong>结构</strong>：前 24 位是厂商标识（OUI），后 24 位是厂商分配的序列号。</li>\n<li><strong>作用层级</strong>：工作在数据链路层，负责同一局域网内设备间的直接寻址（“下一跳”通信）。</li>\n<li><strong>核心协议</strong>：ARP。设备通过广播“这个 IP 的 MAC 地址是什么？”来获取目标设备的物理地址，从而在局域网内直接通信。</li>\n<li><strong>与 IP 地址的关系</strong>：\n<ul>\n<li><strong>IP 地址</strong>：像收件地址，负责端到端的全局寻址（“我要去上海”）。</li>\n<li><strong>MAC 地址</strong>：像当前路段的下一站，负责一跳一跳的局部寻址（“下一站去天津”）。数据包每经过一个路由器，其源/目的 MAC 地址都会被重写，而 IP 地址通常保持不变。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"8-总结\"><a class=\"anchor\" href=\"#8-总结\">#</a> 8. 总结</h2>\n<p>网络通信是一个精妙的协作过程：</p>\n<ol>\n<li>你想访问 <code>www.google.com</code>，DNS 首先将其解析为 IP 地址。</li>\n<li>你的电脑判断目标 IP 不在当前局域网，于是将数据包发往网关（路由器）。</li>\n<li>路由器通过 NAT 将你的私有 IP 转为公有 IP，并根据路由表将数据包转发到互联网的下一跳。</li>\n<li>在每一跳中，设备会通过 MAC 地址与 ARP 在局部链路上完成寻址。</li>\n<li>数据包最终到达目标服务器，响应再沿着相反的路径回到你的电脑。</li>\n</ol>\n<p>理解这些核心概念，就能拨开互联网的迷雾，看清数据流动的轨迹。</p>\n",
            "tags": [
                "router",
                "ip",
                "MAC"
            ]
        }
    ]
}