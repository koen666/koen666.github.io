{
    "version": "https://jsonfeed.org/version/1",
    "title": "木语 • All posts by \"termux\" tag",
    "description": "Spark!",
    "home_page_url": "http://example.com",
    "items": [
        {
            "id": "http://example.com/2025/10/06/screen/",
            "url": "http://example.com/2025/10/06/screen/",
            "title": "screen---virtual termux",
            "date_published": "2025-10-05T16:00:00.000Z",
            "content_html": "<h2 id=\"1️screen-是什么\"><a class=\"anchor\" href=\"#1️screen-是什么\">#</a> <strong>1️.screen 是什么？</strong></h2>\n<ul>\n<li>\n<p><code>screen</code> 是一个<strong>终端复用器</strong>（terminal multiplexer）。</p>\n</li>\n<li>\n<p>它可以在一个终端窗口中运行多个“虚拟终端”，允许你在后台保持会话。</p>\n</li>\n<li>\n<p>常见用途：</p>\n<ul>\n<li>在远程服务器上运行长时间任务，即使断开 SSH 也能继续执行。</li>\n<li>在一个终端里同时打开多个 shell。</li>\n<li>在同一会话中共享终端（多人操作同一个 session）。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"2️安装\"><a class=\"anchor\" href=\"#2️安装\">#</a> <strong>2️.安装</strong></h2>\n<p>大多数 Linux 发行版默认有：</p>\n<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#59873A;--shiki-dark:#80A665\">screen</span><span style=\"color:#A65E2B;--shiki-dark:#C99076\"> --version</span></span></code></pre>\n<p>如果没有安装：</p>\n<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#A0ADA0;--shiki-dark:#758575DD\"># Ubuntu / Debian</span></span>\n<span class=\"line\"><span style=\"color:#59873A;--shiki-dark:#80A665\">sudo</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> apt</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> install</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> screen</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#A0ADA0;--shiki-dark:#758575DD\"># CentOS / RHEL</span></span>\n<span class=\"line\"><span style=\"color:#59873A;--shiki-dark:#80A665\">sudo</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> yum</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> install</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> screen</span></span></code></pre>\n<h2 id=\"3️基本命令\"><a class=\"anchor\" href=\"#3️基本命令\">#</a> <strong>3️.基本命令</strong></h2>\n<h3 id=\"1-启动一个新的-screen-会话\"><a class=\"anchor\" href=\"#1-启动一个新的-screen-会话\">#</a> <strong>(1) 启动一个新的 screen 会话</strong></h3>\n<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#59873A;--shiki-dark:#80A665\">screen</span><span style=\"color:#A65E2B;--shiki-dark:#C99076\"> -S</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> mysession</span></span></code></pre>\n<ul>\n<li><code>-S mysession</code>：给会话取名字，方便管理。</li>\n<li>执行后，你会进入一个新的终端环境，和普通 shell 一样。</li>\n</ul>\n<h3 id=\"2-在-screen-中操作\"><a class=\"anchor\" href=\"#2-在-screen-中操作\">#</a> <strong>(2) 在 screen 中操作</strong></h3>\n<ul>\n<li><strong>新建窗口</strong>: <code>Ctrl+a</code> 然后 <code>c</code></li>\n<li><strong>切换窗口</strong>: <code>Ctrl+a</code> 然后 <code>n</code>（下一个）、<code>p</code>（上一个）</li>\n<li><strong>查看窗口列表</strong>: <code>Ctrl+a</code> 然后 <code>\"</code></li>\n</ul>\n<h3 id=\"3-暂时离开detach会话\"><a class=\"anchor\" href=\"#3-暂时离开detach会话\">#</a> <strong>(3) 暂时离开（detach）会话</strong></h3>\n<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#59873A;--shiki-dark:#80A665\">Ctrl+a</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> d</span></span></code></pre>\n<ul>\n<li>会让 screen 会话在后台继续运行，终端回到原来的 shell。</li>\n</ul>\n<h3 id=\"4-恢复attach会话\"><a class=\"anchor\" href=\"#4-恢复attach会话\">#</a> <strong>(4) 恢复（attach）会话</strong></h3>\n<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#59873A;--shiki-dark:#80A665\">screen</span><span style=\"color:#A65E2B;--shiki-dark:#C99076\"> -r</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> mysession</span></span></code></pre>\n<ul>\n<li>恢复之前 detach 的会话。</li>\n<li>如果有多个会话：</li>\n</ul>\n<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#59873A;--shiki-dark:#80A665\">screen</span><span style=\"color:#A65E2B;--shiki-dark:#C99076\"> -ls</span></span>\n<span class=\"line\"><span style=\"color:#A0ADA0;--shiki-dark:#758575DD\"># 列出所有会话</span></span>\n<span class=\"line\"><span style=\"color:#59873A;--shiki-dark:#80A665\">screen</span><span style=\"color:#A65E2B;--shiki-dark:#C99076\"> -r</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> 会话ID</span></span></code></pre>\n<h3 id=\"5-杀掉会话\"><a class=\"anchor\" href=\"#5-杀掉会话\">#</a> <strong>(5) 杀掉会话</strong></h3>\n<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#998418;--shiki-dark:#B8A965\">exit</span></span></code></pre>\n<ul>\n<li>在 screen 内直接 <code>exit</code> 会结束该窗口和会话。<br>\n或者：</li>\n</ul>\n<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#59873A;--shiki-dark:#80A665\">screen</span><span style=\"color:#A65E2B;--shiki-dark:#C99076\"> -X</span><span style=\"color:#A65E2B;--shiki-dark:#C99076\"> -S</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> mysession</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> quit</span></span></code></pre>\n<h2 id=\"4️高级技巧\"><a class=\"anchor\" href=\"#4️高级技巧\">#</a> <strong>4️.高级技巧</strong></h2>\n<ol>\n<li><strong>后台运行任务</strong></li>\n</ol>\n<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#59873A;--shiki-dark:#80A665\">screen</span><span style=\"color:#A65E2B;--shiki-dark:#C99076\"> -S</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> mytask</span><span style=\"color:#A65E2B;--shiki-dark:#C99076\"> -dm</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> bash</span><span style=\"color:#A65E2B;--shiki-dark:#C99076\"> -c</span><span style=\"color:#B5695977;--shiki-dark:#C98A7D77\"> \"</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\">python myscript.py</span><span style=\"color:#B5695977;--shiki-dark:#C98A7D77\">\"</span></span></code></pre>\n<ul>\n<li><code>-dm</code> 表示启动会话并立即后台运行。</li>\n<li>可以 <code>screen -r mytask</code> 查看进度。</li>\n</ul>\n<ol start=\"2\">\n<li><strong>日志记录</strong></li>\n</ol>\n<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#59873A;--shiki-dark:#80A665\">Ctrl+a</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> H</span></span></code></pre>\n<ul>\n<li>会将当前窗口的输出记录到 <code>screenlog.0</code> 文件。</li>\n</ul>\n<ol start=\"3\">\n<li><strong>共享会话</strong></li>\n</ol>\n<pre class=\"shiki shiki-themes vitesse-light vitesse-dark\" style=\"background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee\" tabindex=\"0\"><code class=\"language-bash\"><span class=\"line\"><span style=\"color:#59873A;--shiki-dark:#80A665\">screen</span><span style=\"color:#A65E2B;--shiki-dark:#C99076\"> -x</span><span style=\"color:#B56959;--shiki-dark:#C98A7D\"> mysession</span></span></code></pre>\n<ul>\n<li>可以和其他用户同时操作同一个 session（需要权限）。</li>\n</ul>\n<h2 id=\"5️总结\"><a class=\"anchor\" href=\"#5️总结\">#</a> <strong>5️.总结</strong></h2>\n<p><code>screen</code> 的核心价值是：</p>\n<ul>\n<li><strong>断开重连</strong>：网络断了也不会影响任务。</li>\n<li><strong>多窗口管理</strong>：在一个终端里搞定多个任务。</li>\n<li><strong>后台执行</strong>：任务可持续运行，不占本地终端。</li>\n</ul>\n",
            "tags": [
                "screen",
                "termux"
            ]
        }
    ]
}