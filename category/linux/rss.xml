<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>木语 • Posts by &#34;linux&#34; category</title>
        <link>https://koen666.github.io</link>
        <description>Spark!</description>
        <language>zh-CN</language>
        <pubDate>Mon, 02 Feb 2026 00:00:00 +0800</pubDate>
        <lastBuildDate>Mon, 02 Feb 2026 00:00:00 +0800</lastBuildDate>
        <category>MLP</category>
        <category>math</category>
        <category>NeRF</category>
        <category>Koa</category>
        <category>backen</category>
        <category>nodejs</category>
        <category>KL</category>
        <category>RE-ID</category>
        <category>cmd</category>
        <category>curl</category>
        <category>learn</category>
        <category>GA</category>
        <category>python</category>
        <category>container</category>
        <category>docker</category>
        <category>linux</category>
        <category>virtual</category>
        <category>cypher</category>
        <category>neo4j</category>
        <category>database</category>
        <category>electron</category>
        <category>web</category>
        <category>desk</category>
        <category>flask</category>
        <category>repo</category>
        <category>git</category>
        <category>latex</category>
        <category>gradio</category>
        <category>markdown</category>
        <category>router</category>
        <category>ip</category>
        <category>MAC</category>
        <category>react-native</category>
        <category>expo</category>
        <category>collections</category>
        <category>uv</category>
        <category>environment</category>
        <category>deeplearning</category>
        <category>pytorch</category>
        <category>Transformer</category>
        <category>sql</category>
        <category>screen</category>
        <category>termux</category>
        <category>scipy</category>
        <category>ssh</category>
        <category>images</category>
        <category>hpc</category>
        <category>tutorial</category>
        <category>vue</category>
        <category>saaborn</category>
        <category>SSH</category>
        <category>端口转发</category>
        <category>内网穿透</category>
        <category>gpu</category>
        <category>data</category>
        <category>yaml</category>
        <category>argparse</category>
        <category>easydict</category>
        <category>yolo</category>
        <category>dataset</category>
        <category>AnyLabeling</category>
        <category>dataloader</category>
        <category>diffusionmodel</category>
        <category>generative-ai</category>
        <category>code</category>
        <category>theory</category>
        <category>bayesian</category>
        <category>agent</category>
        <item>
            <guid isPermalink="true">https://koen666.github.io/2026/02/02/ssh-l-r/</guid>
            <title>SSH 端口转发详解：彻底搞懂 -L 和 -R 的区别</title>
            <link>https://koen666.github.io/2026/02/02/ssh-l-r/</link>
            <category>SSH</category>
            <category>端口转发</category>
            <category>内网穿透</category>
            <pubDate>Mon, 02 Feb 2026 00:00:00 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;在日常开发中，我们经常会遇到这样的需求：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;想连线上的数据库&lt;/strong&gt;，但服务器为了安全只开放了 SSH 端口，数据库端口被防火墙挡住了。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;在本地开发了一个 Web 应用&lt;/strong&gt;，想发给异地的同事或客户体验一下，但没有公网 IP。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;其实，只要你有一台能 SSH 登录的服务器（或者使用像 localhost.run 这样的公共服务），&lt;strong&gt;一条 SSH 命令&lt;/strong&gt;就能解决上述所有问题。&lt;/p&gt;
&lt;p&gt;这就是 SSH 的**隧道（Tunneling）**功能。最常用的两个参数是 &lt;code&gt;-L&lt;/code&gt; 和 &lt;code&gt;-R&lt;/code&gt;，但很多人经常搞混。今天我们就来彻底理清它们。&lt;/p&gt;
&lt;p&gt;记住这句口诀：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-L&lt;/code&gt; (Local)&lt;/strong&gt;：&lt;strong&gt;把远程的拉回来&lt;/strong&gt;（我想访问别人）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;-R&lt;/code&gt; (Remote)&lt;/strong&gt;：&lt;strong&gt;把本地的推出去&lt;/strong&gt;（我想让别人访问我）。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;1-ssh-l本地端口转发-local-port-forwarding&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#1-ssh-l本地端口转发-local-port-forwarding&#34;&gt;#&lt;/a&gt; 1. SSH -L：本地端口转发 (Local Port Forwarding)&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;场景：&lt;/strong&gt; 安全地连接远程服务器上的服务（如 MySQL、Redis）。&lt;/p&gt;
&lt;p&gt;假设你有一台阿里云服务器 &lt;code&gt;1.2.3.4&lt;/code&gt;，上面运行着 MySQL（3306 端口），但防火墙只允许 &lt;code&gt;127.0.0.1&lt;/code&gt; 访问。你在本地 Mac/Windows 上想用 Navicat 或 DBeaver 图形化管理它。&lt;/p&gt;
&lt;h3 id=&#34;命令格式&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#命令格式&#34;&gt;#&lt;/a&gt; 命令格式&lt;/h3&gt;
&lt;pre class=&#34;shiki shiki-themes vitesse-light vitesse-dark&#34; style=&#34;background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee&#34; tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#59873A;--shiki-dark:#80A665&#34;&gt;ssh&lt;/span&gt;&lt;span style=&#34;color:#A65E2B;--shiki-dark:#C99076&#34;&gt; -L&lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt;本地端&lt;/span&gt;&lt;span style=&#34;color:#393A34;--shiki-dark:#DBD7CAEE&#34;&gt;口&lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt;目标I&lt;/span&gt;&lt;span style=&#34;color:#393A34;--shiki-dark:#DBD7CAEE&#34;&gt;P&lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt;目标端&lt;/span&gt;&lt;span style=&#34;color:#393A34;--shiki-dark:#DBD7CAEE&#34;&gt;口&lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt;用户&lt;/span&gt;&lt;span style=&#34;color:#393A34;--shiki-dark:#DBD7CAEE&#34;&gt;名&lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt;@&lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt;跳板机I&lt;/span&gt;&lt;span style=&#34;color:#393A34;--shiki-dark:#DBD7CAEE&#34;&gt;P&lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#59873A;--shiki-dark:#80A665&#34;&gt;实战示例&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#59873A;--shiki-dark:#80A665&#34;&gt;Bash&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#59873A;--shiki-dark:#80A665&#34;&gt;ssh&lt;/span&gt;&lt;span style=&#34;color:#A65E2B;--shiki-dark:#C99076&#34;&gt; -L&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt; 3000:localhost:3306&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt; root@1.2.3.4&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;流量是如何走的？&lt;br&gt;
当你执行这条命令后，SSH 客户端会在你本地监听 3000 端口。&lt;/p&gt;
&lt;p&gt;发起请求：你在本地 Navicat 连接 localhost:3000。&lt;/p&gt;
&lt;p&gt;进入隧道：请求被 SSH 客户端捕获，加密后通过 SSH 隧道发送给远程服务器 1.2.3.4。&lt;/p&gt;
&lt;p&gt;解密转发：服务器收到数据，解密后，根据命令中的 localhost:3306，把请求转发给它自己的 3306 端口。&lt;/p&gt;
&lt;p&gt;响应返回：数据库的数据原路返回。&lt;/p&gt;
&lt;p&gt;效果：你访问本地的 3000 端口，就等于在访问远程服务器的 3306 端口。&lt;/p&gt;
&lt;h2 id=&#34;2-ssh-r远程端口转发-remote-port-forwarding&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#2-ssh-r远程端口转发-remote-port-forwarding&#34;&gt;#&lt;/a&gt; 2. SSH -R：远程端口转发 (Remote Port Forwarding)&lt;/h2&gt;
&lt;p&gt;场景： 内网穿透。将本地开发的服务暴露给公网。&lt;/p&gt;
&lt;p&gt;假设你在本地（Mac mini）开发了一个 FastAPI 服务，运行在 8001 端口。现在你需要给在国外的老板演示，或者配合微信小程序调试，需要一个公网 HTTPS 地址。&lt;/p&gt;
&lt;p&gt;命令格式&lt;/p&gt;
&lt;pre class=&#34;shiki shiki-themes vitesse-light vitesse-dark&#34; style=&#34;background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee&#34; tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#59873A;--shiki-dark:#80A665&#34;&gt;ssh&lt;/span&gt;&lt;span style=&#34;color:#A65E2B;--shiki-dark:#C99076&#34;&gt; -R&lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt;远程端&lt;/span&gt;&lt;span style=&#34;color:#393A34;--shiki-dark:#DBD7CAEE&#34;&gt;口&lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt;本地I&lt;/span&gt;&lt;span style=&#34;color:#393A34;--shiki-dark:#DBD7CAEE&#34;&gt;P&lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt;本地端&lt;/span&gt;&lt;span style=&#34;color:#393A34;--shiki-dark:#DBD7CAEE&#34;&gt;口&lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt;用户&lt;/span&gt;&lt;span style=&#34;color:#393A34;--shiki-dark:#DBD7CAEE&#34;&gt;名&lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt;@&lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt;远程服务器I&lt;/span&gt;&lt;span style=&#34;color:#393A34;--shiki-dark:#DBD7CAEE&#34;&gt;P&lt;/span&gt;&lt;span style=&#34;color:#AB5959;--shiki-dark:#CB7676&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;实战示例&lt;br&gt;
这里以公共服务 localhost.run 为例（如果你有自己的服务器也是同理）：&lt;/p&gt;
&lt;pre class=&#34;shiki shiki-themes vitesse-light vitesse-dark&#34; style=&#34;background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee&#34; tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#59873A;--shiki-dark:#80A665&#34;&gt;ssh&lt;/span&gt;&lt;span style=&#34;color:#A65E2B;--shiki-dark:#C99076&#34;&gt; -R&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt; 80:localhost:8001&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt; nokey@localhost.run&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;流量是如何走的？&lt;br&gt;
当你执行这条命令后，SSH 服务端会在远程服务器上监听端口（或分配域名）。&lt;/p&gt;
&lt;p&gt;外部访问：老板在浏览器访问远程服务器提供的域名（如 &lt;a href=&#34;https://xyz.lhr.life&#34;&gt;https://xyz.lhr.life&lt;/a&gt;）。&lt;/p&gt;
&lt;p&gt;进入隧道：远程服务器收到请求，发现这是你绑定的隧道，于是把数据包塞进 SSH 连接发给你。&lt;/p&gt;
&lt;p&gt;穿透内网：数据穿过互联网和家里的路由器，到达你的电脑。&lt;/p&gt;
&lt;p&gt;本地转发：你的 SSH 客户端收到数据，转发给你本地的 localhost:8001。&lt;/p&gt;
&lt;p&gt;效果：全世界都能通过那个公网链接，访问你藏在内网里的本地服务。&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://koen666.github.io/2025/10/06/screen/</guid>
            <title>介绍screen，挂起的虚拟终端使用</title>
            <link>https://koen666.github.io/2025/10/06/screen/</link>
            <category>screen</category>
            <category>termux</category>
            <pubDate>Mon, 06 Oct 2025 00:00:00 +0800</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;1️screen-是什么&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#1️screen-是什么&#34;&gt;#&lt;/a&gt; &lt;strong&gt;1️.screen 是什么？&lt;/strong&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;screen&lt;/code&gt; 是一个&lt;strong&gt;终端复用器&lt;/strong&gt;（terminal multiplexer）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;它可以在一个终端窗口中运行多个“虚拟终端”，允许你在后台保持会话。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;常见用途：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在远程服务器上运行长时间任务，即使断开 SSH 也能继续执行。&lt;/li&gt;
&lt;li&gt;在一个终端里同时打开多个 shell。&lt;/li&gt;
&lt;li&gt;在同一会话中共享终端（多人操作同一个 session）。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;2️安装&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#2️安装&#34;&gt;#&lt;/a&gt; &lt;strong&gt;2️.安装&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;大多数 Linux 发行版默认有：&lt;/p&gt;
&lt;pre class=&#34;shiki shiki-themes vitesse-light vitesse-dark&#34; style=&#34;background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee&#34; tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#59873A;--shiki-dark:#80A665&#34;&gt;screen&lt;/span&gt;&lt;span style=&#34;color:#A65E2B;--shiki-dark:#C99076&#34;&gt; --version&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果没有安装：&lt;/p&gt;
&lt;pre class=&#34;shiki shiki-themes vitesse-light vitesse-dark&#34; style=&#34;background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee&#34; tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#A0ADA0;--shiki-dark:#758575DD&#34;&gt;# Ubuntu / Debian&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#59873A;--shiki-dark:#80A665&#34;&gt;sudo&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt; apt&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt; install&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt; screen&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#A0ADA0;--shiki-dark:#758575DD&#34;&gt;# CentOS / RHEL&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#59873A;--shiki-dark:#80A665&#34;&gt;sudo&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt; yum&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt; install&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt; screen&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;3️基本命令&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#3️基本命令&#34;&gt;#&lt;/a&gt; &lt;strong&gt;3️.基本命令&lt;/strong&gt;&lt;/h2&gt;
&lt;h3 id=&#34;1-启动一个新的-screen-会话&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#1-启动一个新的-screen-会话&#34;&gt;#&lt;/a&gt; &lt;strong&gt;(1) 启动一个新的 screen 会话&lt;/strong&gt;&lt;/h3&gt;
&lt;pre class=&#34;shiki shiki-themes vitesse-light vitesse-dark&#34; style=&#34;background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee&#34; tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#59873A;--shiki-dark:#80A665&#34;&gt;screen&lt;/span&gt;&lt;span style=&#34;color:#A65E2B;--shiki-dark:#C99076&#34;&gt; -S&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt; mysession&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-S mysession&lt;/code&gt;：给会话取名字，方便管理。&lt;/li&gt;
&lt;li&gt;执行后，你会进入一个新的终端环境，和普通 shell 一样。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-在-screen-中操作&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#2-在-screen-中操作&#34;&gt;#&lt;/a&gt; &lt;strong&gt;(2) 在 screen 中操作&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;新建窗口&lt;/strong&gt;: &lt;code&gt;Ctrl+a&lt;/code&gt; 然后 &lt;code&gt;c&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;切换窗口&lt;/strong&gt;: &lt;code&gt;Ctrl+a&lt;/code&gt; 然后 &lt;code&gt;n&lt;/code&gt;（下一个）、&lt;code&gt;p&lt;/code&gt;（上一个）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;查看窗口列表&lt;/strong&gt;: &lt;code&gt;Ctrl+a&lt;/code&gt; 然后 &lt;code&gt;&#34;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3-暂时离开detach会话&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#3-暂时离开detach会话&#34;&gt;#&lt;/a&gt; &lt;strong&gt;(3) 暂时离开（detach）会话&lt;/strong&gt;&lt;/h3&gt;
&lt;pre class=&#34;shiki shiki-themes vitesse-light vitesse-dark&#34; style=&#34;background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee&#34; tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#59873A;--shiki-dark:#80A665&#34;&gt;Ctrl+a&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt; d&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;会让 screen 会话在后台继续运行，终端回到原来的 shell。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;4-恢复attach会话&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#4-恢复attach会话&#34;&gt;#&lt;/a&gt; &lt;strong&gt;(4) 恢复（attach）会话&lt;/strong&gt;&lt;/h3&gt;
&lt;pre class=&#34;shiki shiki-themes vitesse-light vitesse-dark&#34; style=&#34;background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee&#34; tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#59873A;--shiki-dark:#80A665&#34;&gt;screen&lt;/span&gt;&lt;span style=&#34;color:#A65E2B;--shiki-dark:#C99076&#34;&gt; -r&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt; mysession&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;恢复之前 detach 的会话。&lt;/li&gt;
&lt;li&gt;如果有多个会话：&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;shiki shiki-themes vitesse-light vitesse-dark&#34; style=&#34;background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee&#34; tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#59873A;--shiki-dark:#80A665&#34;&gt;screen&lt;/span&gt;&lt;span style=&#34;color:#A65E2B;--shiki-dark:#C99076&#34;&gt; -ls&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#A0ADA0;--shiki-dark:#758575DD&#34;&gt;# 列出所有会话&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#59873A;--shiki-dark:#80A665&#34;&gt;screen&lt;/span&gt;&lt;span style=&#34;color:#A65E2B;--shiki-dark:#C99076&#34;&gt; -r&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt; 会话ID&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;5-杀掉会话&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#5-杀掉会话&#34;&gt;#&lt;/a&gt; &lt;strong&gt;(5) 杀掉会话&lt;/strong&gt;&lt;/h3&gt;
&lt;pre class=&#34;shiki shiki-themes vitesse-light vitesse-dark&#34; style=&#34;background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee&#34; tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#998418;--shiki-dark:#B8A965&#34;&gt;exit&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;在 screen 内直接 &lt;code&gt;exit&lt;/code&gt; 会结束该窗口和会话。&lt;br&gt;
或者：&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;shiki shiki-themes vitesse-light vitesse-dark&#34; style=&#34;background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee&#34; tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#59873A;--shiki-dark:#80A665&#34;&gt;screen&lt;/span&gt;&lt;span style=&#34;color:#A65E2B;--shiki-dark:#C99076&#34;&gt; -X&lt;/span&gt;&lt;span style=&#34;color:#A65E2B;--shiki-dark:#C99076&#34;&gt; -S&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt; mysession&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt; quit&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;4️高级技巧&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#4️高级技巧&#34;&gt;#&lt;/a&gt; &lt;strong&gt;4️.高级技巧&lt;/strong&gt;&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;后台运行任务&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;shiki shiki-themes vitesse-light vitesse-dark&#34; style=&#34;background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee&#34; tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#59873A;--shiki-dark:#80A665&#34;&gt;screen&lt;/span&gt;&lt;span style=&#34;color:#A65E2B;--shiki-dark:#C99076&#34;&gt; -S&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt; mytask&lt;/span&gt;&lt;span style=&#34;color:#A65E2B;--shiki-dark:#C99076&#34;&gt; -dm&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt; bash&lt;/span&gt;&lt;span style=&#34;color:#A65E2B;--shiki-dark:#C99076&#34;&gt; -c&lt;/span&gt;&lt;span style=&#34;color:#B5695977;--shiki-dark:#C98A7D77&#34;&gt; &#34;&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt;python myscript.py&lt;/span&gt;&lt;span style=&#34;color:#B5695977;--shiki-dark:#C98A7D77&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-dm&lt;/code&gt; 表示启动会话并立即后台运行。&lt;/li&gt;
&lt;li&gt;可以 &lt;code&gt;screen -r mytask&lt;/code&gt; 查看进度。&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;strong&gt;日志记录&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;shiki shiki-themes vitesse-light vitesse-dark&#34; style=&#34;background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee&#34; tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#59873A;--shiki-dark:#80A665&#34;&gt;Ctrl+a&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt; H&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;会将当前窗口的输出记录到 &lt;code&gt;screenlog.0&lt;/code&gt; 文件。&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;&lt;strong&gt;共享会话&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;shiki shiki-themes vitesse-light vitesse-dark&#34; style=&#34;background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee&#34; tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span style=&#34;color:#59873A;--shiki-dark:#80A665&#34;&gt;screen&lt;/span&gt;&lt;span style=&#34;color:#A65E2B;--shiki-dark:#C99076&#34;&gt; -x&lt;/span&gt;&lt;span style=&#34;color:#B56959;--shiki-dark:#C98A7D&#34;&gt; mysession&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;可以和其他用户同时操作同一个 session（需要权限）。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;5️总结&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#5️总结&#34;&gt;#&lt;/a&gt; &lt;strong&gt;5️.总结&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;screen&lt;/code&gt; 的核心价值是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;断开重连&lt;/strong&gt;：网络断了也不会影响任务。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;多窗口管理&lt;/strong&gt;：在一个终端里搞定多个任务。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;后台执行&lt;/strong&gt;：任务可持续运行，不占本地终端。&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
    </channel>
</rss>
